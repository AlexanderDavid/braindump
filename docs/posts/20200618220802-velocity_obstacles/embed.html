<html>  
<head>  
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta charset="UTF-8">
    
    <link rel="stylesheet" href="https://braindump.alexday.me/css/embed.min.43ffb24d6d58dc9382bd6ecf153b39e321fbfcbec334d4d3aacc42336b79fe2c.css">
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <main>
      <section id="title">
        <h1>Velocity Obstacles</h1>
      </section>
      <section id="content">
        <dl>
<dt>tags</dt>
<dd><a href="/posts/20200619000222-motion_planning/">Motion Planning</a></dd>
</dl>
<p>Velocity Obstacles are a way to determine collision velocities for agents.</p>
<h2 id="slides--dot-slides-velocity-obstacles-dot-pdf"><a href="/ox-hugo/velocity_obstacles.pdf">Slides</a></h2>
<h3 id="starting-with-cartesian">Starting with Cartesian</h3>
<p>Imagine starting with a Cartesian space where there are two agents, \(A\) and \(B\).</p>
<figure>
    <img src="/ox-hugo/2020-06-20_19-09-39_screenshot.png"/> 
</figure>

<p>Now if you translate this space so that \(A\) is centered at the origin and \(B\) is at position \(x_{b}-x_{a}\).</p>
<figure>
    <img src="/ox-hugo/2020-06-20_19-09-55_screenshot.png"/> 
</figure>

<p>Now if you deflate \(A\) so that it is a single point, then inflate \(B\) so it has a has a radius of \(r_{a}+r_{b}\) (because \(A\) is a point and the radius has to be increased).</p>
<figure>
    <img src="/ox-hugo/2020-06-20_19-10-10_screenshot.png"/> 
</figure>

<p>By doing this you calculate the Minkowski sum. Remember the Minkowsi sum \(X \oplus Y = \{ x + y | x \in X, y \in Y \}\). So if \(X\) is the position of \(A\) (\(\{[0, 0]\}\)), and \(Y\) is the position of \(B\) (\(\{[1, 1]\}\)). Then \(X \oplus Y = \{[1, 1]\}\).</p>
<h3 id="to-velocity-space">To Velocity Space</h3>
<p>If we take that same 2d plane but change the \(X\) and \(Y\) axis and change them to velocities (by dividing everything by one second).</p>
<figure>
    <img src="/ox-hugo/2020-06-20_19-15-59_screenshot.png"/> 
</figure>

<p>Now every point in this space denotes a velocity. The question now is what is the set of velocities that will lead to a collision. This set is the \(VO_{A|B}\), or the velocity obstacle of \(A\) induced by \(B\).</p>
<p>To find if a some velocity \(\vec{V}_{1}\) is a collision velocity then have it define a ray starting at the origin and passing through \(\vec{V}_1\). If this ray intersects the disk then it is a collision velocity. Writing the point of intersection in the form of \(\tau \vec{V}_{1}\) where \(\tau\) is some constant gives you the time til collision.</p>
<h3 id="revising-definition">Revising definition</h3>
<p>The velocity obstacle can be geometrically defined as the following:</p>
<p>\begin{equation}
\label{eq:1}
VO_{{A|B}} = \{ \vec{v} | \exists \tau \ge 0 : \tau \vec{v} \cap \in D(x_{B} -_{} x_{A}, r_{A} + r_{B}) \ne \emptyset\}
\end{equation}</p>
<p>In English this means that the velocity obstacle of A induced by B is the set of all velocities such that there exists a constant \(\tau \ge 0\) such that \(\tau \vec{v}\) is within the disk centered at \(x_{B}-x_{A}\) with radius \(r_{A}+r_{B}\).</p>
<p>This definition gives a cone with its apex at the origin and its sides running tangent to the disk.</p>
<figure>
    <img src="/ox-hugo/2020-06-20_19-52-37_screenshot.png"/> 
</figure>

<h3 id="time-horizon-velocity-obstacle">Time Horizon Velocity Obstacle</h3>
<p>A time horizon Velocity Obstacle is a \(VO\) that describes velocities that will lead to a collision between time \(0\) and some time \(\tau_{{H}}\). This is useful if you don&rsquo;t care about collisions that will happen far in the future.</p>
<p>Given two agents, \(A\) and \(B\), the velocity obstacle \(VO^{\tau_{H}}_{A|B}\) (read: the velocity obstacle of \(A\) induced by \(B\) for time horizon \(\tau_{H}\)) is the set of all velocities that \(A\) can take that will lead to a collision between \(A\) and \(B\) at some moment within the next \(\tau_{H}\) seconds. The geometric definition is as follows:</p>
<p>\begin{equation}
\label{eq:2}
VO^{\tau_{H}}_{A|B} = \{ v | \exists \tau \in [0, \tau_{H}]: \tau V \cap \in D(x_{B} - X_{A}, r_{A} + r_{B}) \ne \emptyset \}
\end{equation}</p>
<p>In english this means that the velocity obstacle, \(VO\), for a time horizon \(\tau_{H}\) induced on \(A\) by \(B\) is equal to all velocities such that a \(\tau\) exists between \(0\) and \(\tau_{H}\) (inclusive) such that \(\tau V\) unioned with the disk centered at \(X_{B} - X_{A}\) with radius \(r_{A} + r_{B}\) is not empty.</p>
<p>Geometrically, this \(VO\) is still a cone (assuming circular agents). But this cone is truncated by a disk of radius \(\frac{r_{A} + r_{B}}{\tau_{H}}\) and centered at \(\frac{x_{A} - x_{B}}{\tau_{H}}\) compared to the \(VO\) discussed above.</p>
<p>GOT TO 24:40 ish</p>

</div><div class='backlinks box'>

<h2 id="links-to-this-page">Links to this page</h2>
<p><a href="/posts/20200619000222-motion_planning/">Motion Planning</a>

</div>
</p>

      </section>
    </main>
    <script type="text/javascript">
      window.MathJax.typeset();
    </script>
</body>
</html>
